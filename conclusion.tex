\TODO{Findings and their implications for state of the practice section}

\section{Conclusion} \label{sec:conclusions}

% 
% - baseline I/O performance and variability are not constant over time
% 
% - administrative activities such as maintenance patches and software updates are a significant source of time-dependent, long term performance variation
%
% - holistic I/O monitoring should incorporate environmental provenance information, such as kernel, operating system, and file system versions, to aid in correlation
% 
% - financial market technical analysis techniques can be adapted to time series I/O performance data to attenuate noise and identify underlying trends
%
% - Significantly stronger correlations can be found by focusing analysis on algorithmically identified regions of interest in the data.
%
% - bandwidth contention from sustained workloads often accompany sustained performance losses
%
% - the nature and magnitude of how different attributes correlate with I/O performance also change over time
% 
% - attributes that correlate with transient performance problems (IOPS and metadata contention) often differ from those that correlate with long-term performance problems (bandwidth contention).
% 

In this work we have gained numerous insights into I/O performance variation
in production on three leadership-class HPC resources. By collecting
performance data for one-year we were able observe both short-term and
long-term effects upon I/O performance. We also developed a set of best
practices for others interested in monitoring and understanding the performance of their HPC I/O systems in production.

Our results show that the baseline I/O performance changes over time. The
baseline peak performance for a given I/O motif on a file systems can change
as a result of factors such as system software updates and sustained
workloads brought on by external factors such as end of allocation year. By introducing SMA's as a mechanism of analyzing the time series data we were able to identify transitions between these regions of differing baseline I/O performance and gain insight into the cause of the performance change. 

The identification of such regions was essential to gain a clear understanding of the causes of performance changes between regions. Our results showed that the magnitude and sign of correlation between performance and other measured metrics can vary between different performance regions.
We demonstrated that high CPU load can correlate with favorable performance under healthy file system conditions, and it can coincide with unfavorable performance when non-I/O workloads are impacting storage servers.

We showed that contention for bandwidth, IOPS, and metadata resources can be confidently determined to be the sources of transient I/O performance  problems.
That said, 16\% of the transient I/O performance issues defied classification using our binary classification method.
This indicates that we are still missing telemetry from important components of the I/O subsystem that contribute to performance variation. Addressing this need will be the subject of future work. 

The methods presented here are not dependent on SMAs, and alternative
approaches for both partitioning time series data and classifying the
measurements within regions can be replaced with more sophisticated methods.
Our hope is that the simple statistical methods presented here will advance
the state of the practice across the HPC community by encouraging
straightforward methods that improve the efficacy of quantitative I/O analysis.

In future work we plan to develop methods to mathematically classify the similarity of different regions from one another to enable the determination of broad classes of performance regions. We also plan to use the measured data as input to simulation frameworks to enable the design of potential new file system features or policies to reduce the  amount of I/O performance variation seen in production. 



\endinput

\begin{enumerate}

\TODO{these lack "implications for state of the practice"; need to take these up a level.  if we were selling this process to another center, what would they need to take from this study?}

\item \textbf{Baseline performance and performance variation changes over time.}
We have shown that the baseline peak performance for a given I/O motif on a file systems can change over time as a result of factors such as system software updates and sustained workloads motivated by external factors such as end of allocation year.
\TODO{1. you can't just measure performance on day 1}

\item \textbf{The magnitude and sign of correlation between performance and other measured metrics also varies over time.} 
We demonstrated that high CPU load can correlate with favorable performance under healthy file system conditions, and it can coincide with unfavorable performance when non-I/O workloads are impacting storage servers.
\TODO{2. be careful how you interpret your metrics; training a model on one dataset might not make it apply to others}

\item \textbf{Bandwidth, IOPS, and metadata contention are often confidently correlated with I/O performance problems are occurring.}
We were able to obtain statistically significant trends about isolated performance transients by aggregating simple binary classifications based on coincident observations of worst values within regions.
That said, some jobs defied classification using our binary classification method.
This indicates that we are still missing telemetry from important components of the I/O subsystem that contribute to performance variation.
\TODO{3. metadata contention is burstier than bandwidth, but they both affect performance.  just at different time scales}

\item The methods presented here are not dependent on SMAs, and alternative approaches for both partitioning time series data and classifying the measurements within regions can be replaced with more sophisticated methods.
What we have shown is that a great deal of information about I/O performance variation can be quantified using holistic I/O analysis and simple statistical methods.
\end{enumerate}
